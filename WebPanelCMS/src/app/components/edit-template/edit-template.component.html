<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px', fullScreenBackdrop: true }"></ngx-loading>

<div class="container-fluid p-0 m-0 bg-white">
<div class="row">
    <div class="col-5" style="border-right: 3px solid #c0bebe;">
            <div class="form-row">
                <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="token" class="mb-2 mr-sm-2">Customer:</label>
                    <select class="custom-select mb-3" (change)="onChangeCustomer()"
                    id="cmbCustomer" [(ngModel)]="cmbCustomerId">
                    <option selected value="0"></option>
                    <option *ngFor="let cLst of CustomerList" [value]="cLst.Id">
                      {{ cLst.DisplayName }}
                    </option>
                  </select>
                  </div>
                <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="token" class="mb-2 mr-sm-2" #flocation>Template Name:</label>
                    <input type="text" class="form-control mb-2 mr-sm-2" id="location" [(ngModel)]="txtTemplateName"/>
                  </div>
                  <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="MediaType">Orientation:</label>
                    <select name="lType" class="custom-select" id="MediaType" [(ngModel)]="cmbLibraryGenre">
                      <option value="325"> Landscape</option>
                      <option value="324"> Portrait</option>
                    </select>
                  </div>
                  <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="location21" class="mb-2 mr-sm-2 w-100"><input type="checkbox" class="mr-sm-2" (change)="CustomRatio($event)" /> Custom Screen Ratio:</label>
                    <input type="text" class="form-control w-25 mb-2 mr-sm-2 pull-left" id="location21" [(ngModel)]="templatedata.width" placeholder="Width" [readonly]="isDisabled" />
                    <input type="text" class="form-control w-25 mb-2 mr-sm-2 pull-left" id="location1" [(ngModel)]="templatedata.height" placeholder="Height" [readonly]="isDisabled"/>
                  </div>
                  <div *ngIf="templateId !='1'" class="form-group col-sm-6 pb-1 m-0">
                    <label for="bkImage" class="mb-2 mr-sm-2 w-100">Background Image:</label>
                    <input type="button" (click)="openLibrary(modalSignage,'Library')" class="btn btn-primary  mb-2 mr-sm-2" id="bkImage" value="Open Library" />
                    <span><strong>{{selected_imgName}}</strong></span>
                  </div>
                  <div class="form-group col-sm-6 pb-2 m-0">
                    <label for="MediaType">Background Color:</label>
                    <select name="lType" class="custom-select" id="MediaType" [(ngModel)]="templatedata.bgcolor">
                      <option value="bg-white" class="p-3 mb-2 bg-white text-dark"> White</option>
                      <option value="bg-primary" class="p-3 mb-2 bg-primary text-white"> Blue</option>
                      <option value="bg-secondary" class="p-3 mb-2 bg-secondary text-white">Dark Gray</option>
                      <option value="bg-success" class="p-3 mb-2 bg-success text-white">Green</option>
                      <option value="bg-danger" class="p-3 mb-2 bg-danger text-white">Red</option>
                      <option value="bg-warning" class="p-3 mb-2 bg-warning text-dark">Yellow</option>
                      <option value="bg-info" class="p-3 mb-2 bg-info text-white">Cyan</option>
                      <option value="bg-light" class="p-3 mb-2 bg-light text-dark">Light Gray</option>
                    </select>
                  </div>
                  <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="tHeading" class="mb-2 mr-sm-2">Heading:</label>
                    <input type="text" class="form-control mb-2 mr-sm-2" id="tHeading" [(ngModel)]="templatedata.title" />
                  </div>
                  <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="tdesc" class="mb-2 mr-sm-2">Description:</label>
                    <input type="text" class="form-control mb-2 mr-sm-2" id="tdesc" [(ngModel)]="templatedata.desc"  />
                  </div>
                  <div *ngIf="templateId==='3'" class="form-group col-sm-6 pb-1 m-0">
                    <label for="tdesc" class="mb-2 mr-sm-2">Text 1:</label>
                    <input type="text" class="form-control mb-2 mr-sm-2" id="tdesc" [(ngModel)]="templatedata.desc1"  />
                  </div>
                  <div *ngIf="templateId==='3'" class="form-group col-sm-6 pb-1 m-0">
                    <label for="tdesc" class="mb-2 mr-sm-2">Text 2:</label>
                    <input type="text" class="form-control mb-2 mr-sm-2" id="tdesc" [(ngModel)]="templatedata.desc2"  />
                  </div>
                  <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="bkImage" class="mb-2 mr-sm-2 w-100">Company Logo:</label>
                    <input type="button" (click)="openLibrary(modalSignage,'Logo')" class="btn btn-primary  mb-2 mr-sm-2" id="bkImage" value="Open Library" />
                    <span><strong>{{selected_logoName}}</strong></span>
                  </div>
                  <div class="form-group col-sm-6 pb-1 m-0">
                    <label for="tdesc" class="mb-2 mr-sm-2">Duration(Seconds):</label>
                    <input type="text" class="form-control mb-2 mr-sm-2" id="tduration" [(ngModel)]="templatedata.duration"  />
                  </div>
                  <div class="form-group col-sm-12 pb-1 m-0 mb-5">
                    <button class="btn btn-warning mr-2 pull-right" (click)="CloseEditTemplate()" type="button">Cancel</button>
                    <button class="btn btn-primary mr-2 pull-right" type="button" (click)="SaveTemplate()">Save</button>
                    <button class="btn btn-primary mr-2 pull-right" type="button" (click)="OpenViewContent(viewcontent)">Preview</button>

                  </div>

            </div>
    </div>
    <div class="col-7">
        <img *ngIf="cmbLibraryGenre=='325' && templateId=='6'" src="assets/images/temp-1/1-landscape.png" alt="" class="img-fluid card-img-top w-75 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">
        <img *ngIf="cmbLibraryGenre=='324' && templateId=='6'" src="assets/images/temp-1/1-portrait.png" alt="" class="img-fluid card-img-top h-75 w-50 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">
        <img *ngIf="cmbLibraryGenre=='325' && templateId=='2'" src="https://manual.advikon.com/template/G_LS.png" alt="" class="img-fluid card-img-top w-75 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">
        <img *ngIf="cmbLibraryGenre=='324' && templateId=='2'" src="https://manual.advikon.com/template/G_PT.png" alt="" class="img-fluid card-img-top h-75 w-50 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">
        <img *ngIf="cmbLibraryGenre=='325' && templateId=='3'" src="assets/images/temp-2/2-landscape.png" alt="" class="img-fluid card-img-top w-75 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">
        <img *ngIf="cmbLibraryGenre=='324' && templateId=='3'" src="assets/images/temp-2/2-portrait.png" alt="" class="img-fluid card-img-top h-75 w-50 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">
        <img *ngIf="cmbLibraryGenre=='325' && templateId=='1'" src="assets/images/temp-0/0-landscape.png" alt="" class="img-fluid card-img-top w-75 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">
        <img *ngIf="cmbLibraryGenre=='324' && templateId=='1'" src="assets/images/temp-0/0-portrait.png" alt="" class="img-fluid card-img-top w-50 mt-5 box-shadow" style="margin-left: auto;margin-right: auto;display: block;">

      </div>
</div>
</div>



<ng-template #modalSignage let-c="close" let-d="dismiss">
    <div class="modal-header bg-primary">
      <h5 class="text-white">Library</h5>
      <button
        type="button"
        class="close text-white"
        aria-label="Close"
        (click)="d('Cross click')"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="col-12 p-0">
        <label class="col-md-2 p-0">Folder Name:</label>
        <select name="cmbCustomer" class="col-md-3 custom-select mb-3 mt-2" (change)="onChangeLibraryFolder()"
          id="cmbFolder" [(ngModel)]="cmbLibraryFolder">
          <option selected value="0">All</option>
          <option *ngFor="let cLst of LibraryFolderList" [value]="cLst.Id">
            {{ cLst.DisplayName }}
          </option>
        </select>

        
      </div>
      <div class="row">
        <div class="col-sm-4 col-6 mb-2" *ngFor="let songLst of SongsList">
          <div class="card">
            <img
              class="card-img-top p-1"
              src="{{ songLst.TitleIdLink }}"
              alt="Card image"
              style="height: 100px; object-fit: contain"
            />
            <div class="card-body p-1 border-top">
              <a
                href="javascript:;"
                (click)="SetImage(songLst.TitleIdLink, songLst.title)" (click)="d('Cross click')"
                class="btn btn-primary btn-sm"
                >Set</a
              >
              <a
                href="javascript:;"
                (click)="OpenFullImageModal(modalFullImage, songLst.TitleIdLink)"
                (click)="d('Cross click')"
                class="ml-5"
                >Full View</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
  
  <ng-template #modalFullImage let-c="close" let-d="dismiss">
    <div class="modal-header bg-primary">
      <button
        type="button"
        class="close text-white"
        aria-label="Close" (click)="openLibrary(modalSignage,content_Type)"
        (click)="d('Cross click')"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body bg-white">
      <div class="row">
        <div class="col-lg-12">
          <img
            class="p-1"
            src="{{ FullImageUrl }}"
            alt="Card image"
            style="
              margin-left: auto;
              margin-right: auto;
              display: block;
              object-fit: contain;
            "
          />
        </div>
      </div>
    </div>
  </ng-template>

  
  <ng-template class="pt_main" #viewcontent let-c="close" let-d="dismiss">
    
    <button
      type="button"
      class="close text-right"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
   
  <div class="modal-body">
    <app-playeractivationlog></app-playeractivationlog>
  </div>
  </ng-template>