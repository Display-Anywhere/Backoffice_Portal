<ngx-loading
  [show]="loading"
  [config]="{ backdropBorderRadius: '3px', fullScreenBackdrop: true }"
>
</ngx-loading>

<div class="container-fluid p-0">
  <div class="row">
    <div class="col-sm-12">
      <div class="card1">
        <div class="card-header bg-white d-flex justify-content-between">
          <div class="col-12 p-0">
            <div class="form-row">
              <div class="form-group col-sm-2 m-0">
                <label for="cmbCustomer"  class="mb-2 mr-sm-2" #flocation
                  >Customer Name:</label
                >
                <select
                  class="custom-select mb-3"
                  (change)="onChangeCustomer($event.target.value)"
                  id="cmbCustomer"
                  (click)="tselect()"
                  [(ngModel)]="cmbCustomerId"
                >
                  <option selected value="0"></option>
                  <option *ngFor="let cLst of CustomerList" [value]="cLst.Id">
                    {{ cLst.DisplayName }}
                  </option>
                </select>
              </div>
              <div class="form-group col-sm-1 m-0 d-none">
                <ul class="navbar-nav">
                  <li class="nav-item dropdown">
                    <label for="navbarDropdownMenuLink" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <i class="fa fa-cog fa-lg" aria-hidden="true"></i>
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                      <a class="dropdown-item" href="javascript:;" (click)="SetDefaultClient(modalMediaTypeDefault)"
                      *ngIf="this.auth.IsAdminLogin$.value===false && this.auth.chkEventMeeting$.value === false ">
                        Set Default
                      </a>
                      <a class="d-none dropdown-item" href="javascript:;" (click)="SetSignage(modalSignage)"
                      *ngIf="((this.auth.chkEventMeeting$.value ==false))">
                        Set Signage App Logo
                      </a>
                      
                      <a class="dropdown-item" href="javascript:;" (click)="SetIndicator(true)" 
                      *ngIf="((this.auth.chkEventMeeting$.value ==false) && (ShowIndicator) && (Indicator_Active))">
                        Show Indicator
                      </a>
                      <a class="dropdown-item" href="javascript:;" (click)="SetIndicator(false)" 
                      *ngIf="((this.auth.chkEventMeeting$.value ==false) && (!ShowIndicator) && (Indicator_Active))">
                        Disable Indicator
                      </a>
                      <a class="dropdown-item" href="javascript:;" (click)="ForceUpdateModal(modalForceUpdate)"
                      *ngIf="((this.auth.chkEventMeeting$.value ==false))">
                        Publish
                      </a>
                      <a class="dropdown-item" href="javascript:;"  (click)="BulkActivation(modalUploadExcel)"
                      *ngIf="((this.auth.chkEventMeeting$.value ==false))">
                        Bulk Activation
                      </a>
                      <a class="dropdown-item" href="javascript:;" (click)="ForceUpdateModal(modalExpiryDate)" 
                      *ngIf="((this.auth.chkEventMeeting$.value ==false))">
                        Set Expiry Date
                      </a>
                      <a class="dropdown-item" href="javascript:;" (click)="openEventModal(modalEvent)">
                        Events/Meeting Rooms
                      </a>
                      <a class="dropdown-item" href="javascript:;" (click)="OpenGroupsModal(modalManageGroups)"
                      *ngIf="((this.auth.chkEventMeeting$.value ==false))">
                        Groups
                      </a>
                      <a class="dropdown-item" href="javascript:;" (click)="OpenOpeningHoursModal(modalManageOpeningHours)"
                      *ngIf="((this.auth.chkEventMeeting$.value ==false))">
                        Opening Hours/Reboot Time
                      </a>
                      <a class="dropdown-item" href="javascript:;" (click)="OpenUpdateInfo(modalUpdateInfo)"
                      *ngIf="((this.auth.chkEventMeeting$.value ==false))">
                        Copy Player Info
                      </a>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="form-group col-sm-1 m-0 " *ngIf="this.auth.IsAdminLogin$.value===false && this.auth.chkEventMeeting$.value === false ">
                <label for="btnDF" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnDF"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  value="Set Default" (click)="SetDefaultClient(modalMediaTypeDefault)"
                  style="width: 100%;font-size: 14px;
                  padding: 0.475rem 0.6rem"
                />
              </div>
              <div *ngIf="((this.auth.chkEventMeeting$.value ==false))" class="d-none form-group col-sm-1 m-0">
                <label for="btnSig" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnSig"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  (click)="SetSignage(modalSignage)"
                  value="Set App Logo"
                  style="width: 100%;font-size: 14px;
                  padding: 0.475rem 0.6rem"
                />
              </div>
              <div *ngIf="((this.auth.chkEventMeeting$.value ==false) && (!ShowIndicator) && (Indicator_Active))" class="form-group col-sm-1 m-0">
                <label for="btnIndi" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnIndi"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  (click)="SetIndicator(true)"
                  value="Show Indicator"
                  style="width: 100%;width: 100%;font-size: 14px;padding: 0.475rem 0.60rem;"
                />
              </div>
              <div *ngIf="((this.auth.chkEventMeeting$.value ==false) && (ShowIndicator) && (Indicator_Active))" class="form-group col-sm-1 m-0">
                <label for="btnIndi" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnIndi"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  (click)="SetIndicator(false)"
                  value="Disable Indicator"
                  style="width: 100%;width: 100%;font-size: 14px;padding: 0.475rem 0.20rem;"
                />
              </div>
              <div *ngIf="((this.auth.chkEventMeeting$.value ==false))" class="form-group col-sm-1 m-0">
                <label for="btnForce" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnForce"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  (click)="ForceUpdateModal(modalForceUpdate)"
                  value="Publish"
                  style="width: 100%;width: 100%;font-size: 14px;padding: 0.475rem 0.20rem;"
                />
              </div>
              <div *ngIf="((this.auth.chkEventMeeting$.value ==false))" class="form-group col-sm-1 m-0">
                <label for="btnExport" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnExport"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  (click)="BulkActivation(modalUploadBulkCommon)"
                  value="Bulk"
                  style="width: 100%;font-size: 14px;
                  padding: 0.475rem 0.6rem"
                />
              </div>
              <div *ngIf="((this.auth.chkEventMeeting$.value ==false))" class="form-group col-sm-1 m-0">
                <label for="btnExport" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnExport"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  (click)="ForceUpdateModal(modalExpiryDate)"
                  value="Expiry Date"
                  style="width: 100%;font-size: 14px;
                  padding: 0.475rem 0.6rem"
                />
              </div>
               
              <div class="form-group col-sm-1 m-0" *ngIf="Meeting_Active">
                <label for="btnUploadEvent" class="d-none d-xl-block mb-2 mr-sm-2"
                  >&nbsp;</label
                >
                <input
                  type="button"
                  id="btnUploadEvent"
                  class="btn btn-primary mb-2 mr-sm-2 mr-1"
                  (click)="openEventModal(modalEvent)"
                  value="Meeting Rooms"
                  style="width: 100%;width: 100%;font-size: 14px;padding: 0.475rem 0.20rem;"
                />
              </div>
             
              
              
            </div>
          </div>
        </div>
        <!-- card-body start -->
        <div class="card-body pl-0 pr-0">
          <div class="tab-content">
            <div class="table-responsive">
                <kendo-grid
            [kendoGridBinding]="gridViewList"
            [pageSize]="50"
            [pageable]="true"
            [sortable]="true">
    <ng-template kendoGridToolbarTemplate>
        <kendo-textbox
            placeholder="Search"
            kendoTextBox
            (valueChange)="onFilter($event)"
        >
        </kendo-textbox>
        <kendo-button iconClass="fa fa-refresh" title="Refresh" (click)="RefreshTokenList()"></kendo-button>
        <kendo-grid-spacer></kendo-grid-spacer>
        <kendo-dropdownlist [data]="RecordsFilterList" [value]='FilterDropdownDefaultValue' (valueChange)="valueChange($event)"
        textField="text"
        valueField="value"></kendo-dropdownlist>
        <kendo-button *ngIf="((this.auth.chkEventMeeting$.value ==false))" (click)="OpenGroupsModal(modalManageGroups)">Groups</kendo-button>
        <kendo-button *ngIf="((this.auth.chkEventMeeting$.value ==false))" (click)="OpenOpeningHoursModal(modalOfflineAlert)">Offline Alert</kendo-button>
        <kendo-button *ngIf="((this.auth.chkEventMeeting$.value ==false))" (click)="OpenOpeningHoursModal(modalManageOpeningHours)">Reboot Time</kendo-button>
    </ng-template>
    <kendo-grid-column field="city" title="City" [width]="130"  class="gridrowfont" [headerClass]="'bg-primary'"></kendo-grid-column>
    <kendo-grid-column field="location" title="Location" class="gridrowfont" [headerClass]="'bg-primary'" [width]="190"></kendo-grid-column>
    <kendo-grid-column field="MediaType" title="M. Type" [width]="88" class="gridrowfont" [headerClass]="'bg-primary'"></kendo-grid-column>
    <kendo-grid-column field="gName" title="Group" [width]="190" class="gridrowfont" [headerClass]="'bg-primary'"></kendo-grid-column>
    <kendo-grid-column field="tokenCode" [width]="230" title="Token" class="gridrowfont" [headerClass]="'bg-primary'"></kendo-grid-column>
    <kendo-grid-column field="seqType" [width]="99" title="Seq Type" [headerClass]="'bg-primary'"></kendo-grid-column>
    <kendo-grid-column field="FixIp" title="IP" [width]="100" class="gridrowfont" [headerClass]="'bg-primary'" [filterable]="false" [sortable]="false"></kendo-grid-column>
    
    <kendo-grid-column field="tZone" title="Time Zone" class="gridrowfont" [headerClass]="'bg-primary'" [width]="100" [filterable]="false" [sortable]="false"></kendo-grid-column>
    <kendo-grid-column field="fSpace" title="Avail. Space" class="gridrowfont" [headerClass]="'bg-primary'" [width]="105" [filterable]="false" [sortable]="false"></kendo-grid-column>
    <kendo-grid-column field="Version" title="V." class="gridrowfont" [headerClass]="'bg-primary'" [width]="55" [filterable]="false" [sortable]="false"></kendo-grid-column>
    <kendo-grid-column field="pStatus" title="PS" [width]="43" [filterable]="false" [headerClass]="'bg-primary'" [sortable]="false">
        <ng-template kendoGridCellTemplate let-dataItem>
            <i *ngIf="dataItem.pStatus != 'Online'" class="fa fa-lg fa-square text-danger" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="Player Offline"></i>
            <i *ngIf="dataItem.pStatus == 'Online'" class="fa fa-lg fa-square text-success" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="Player Online"></i>
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="PublishUpdate" title="S." [width]="40" [filterable]="false" [headerClass]="'bg-primary'" [sortable]="false">
        <ng-template kendoGridCellTemplate let-dataItem>
            <i *ngIf="dataItem.PublishUpdate == 'True'" class="fa fa-lg fa-square text-danger" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="Update"></i>
            <i *ngIf="dataItem.PublishUpdate == 'False'" class="fa fa-lg fa-square text-success" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="Updated"></i>
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="IsDownloadAll" title="D." [width]="40" [filterable]="false" [sortable]="false" [headerClass]="'bg-primary'" *ngIf="FilterValue_For_Reload != 'KPN'">
        <ng-template kendoGridCellTemplate let-dataItem>
            <i *ngIf="dataItem.IsDownloadAll == 'false' && dataItem.pContent > 0" class="fa fa-lg fa-square text-primary" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="{{dataItem.pContent}} content are pending to download" ></i>
            <i *ngIf="dataItem.IsDownloadAll == 'false' && dataItem.pContent < 0" class="fa fa-lg fa-square text-primary" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="Download  not completed" ></i>
            <i *ngIf="dataItem.IsDownloadAll == 'true'" class="fa fa-lg fa-square text-success" aria-hidden="true" data-toggle="tooltip" data-placement="top" title="Download  Completed"></i>
</ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="IsIndicatorActive" [filterable]="false" [sortable]="false" [width]="40" title="OI" [headerClass]="'bg-primary'" *ngIf="((IsIndicatorShow == true) &&(Indicator_Active))">
        <ng-template kendoGridCellTemplate let-dataItem>
            <img
            src="/assets/img/green.png"
            alt="green"
            style="
              width: 20px;
              margin-left: auto;
              margin-right: auto;
              display: block;
            "  data-toggle="tooltip" data-placement="top" title="Online Indicator"
          />
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="IsIndicatorActive" [filterable]="false" [sortable]="false" [width]="40" title="OI" [headerClass]="'bg-primary'" *ngIf="((IsIndicatorShow == false) && (Indicator_Active))">
        <ng-template kendoGridCellTemplate let-dataItem>
            <img
                        src="/assets/img/red.png"
                        alt="green"
                        style="
                          width: 20px;
                          margin-left: auto;
                          margin-right: auto;
                          display: block;
                        " data-toggle="tooltip" data-placement="top" title="Online Indicator"
                      />
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="IshotelTvOnline" [filterable]="false" [sortable]="false" [width]="40" title="HI" [headerClass]="'bg-primary'" *ngIf="h_info_Active">
        <ng-template kendoGridCellTemplate let-dataItem>
            <span *ngIf="dataItem.DeviceType == 'HotelTv'">
                <i *ngIf="dataItem.IshotelTvOnline == '0'" class="fa fa-lg fa-square text-danger" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="DA-Info Indicator"></i>
                <i *ngIf="dataItem.IshotelTvOnline == '1'" class="fa fa-lg fa-square text-success" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="DA-Info Indicator"></i>
              </span>
              <span *ngIf="dataItem.DeviceType != 'HotelTv'">
                <i class="fa fa-lg fa-square text-muted" aria-hidden="true"  data-toggle="tooltip" data-placement="top" title="DA-Info is not active"></i>
              </span>
        </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="tokenid" [filterable]="false" [headerClass]="'bg-primary'" [sortable]="false" [width]="40" title="">
        <ng-template kendoGridCellTemplate let-dataItem>
            <i (click)="open(content, dataItem.tokenid)" class="fa fa-pencil-square-o" aria-hidden="true"></i>            
        </ng-template>
    </kendo-grid-column>

    
    </kendo-grid>
            </div>
          </div>
        </div>
        <!-- tab content start -->
        <!-- tab -->
        <!-- card-body end -->
      </div>
    </div>
  </div>
</div>

<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Token Information ({{ Token_Id_App }})</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="tokenInfoClose()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body p-1">
    <app-token-info></app-token-info>
  </div>
</ng-template>

<ng-template #modalSignage let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Signage App Logo</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="col-12 p-0">
      <label class="col-md-2 p-0">Folder Name:</label>
      <select
        name="cmbCustomer"
        class="col-md-3 custom-select mb-3 mt-2"
        (change)="onChangeFolder($event.target.value)"
        id="cmbFolder"
        [(ngModel)]="cmbFolder"
      >
        <option selected value="0"></option>
        <option value="777">All</option>
        <option *ngFor="let cLst of FolderList" [value]="cLst.Id">
          {{ cLst.DisplayName }}
        </option>
      </select>
    </div>
    <div class="row">
      <div class="col-sm-4 col-6 mb-2" *ngFor="let songLst of SongsList">
        <div class="card">
          <img
            class="card-img-top p-1"
            src="{{ songLst.TitleIdLink }}"
            alt="Card image"
            style="height: 100px; object-fit: contain"
          />
          <div class="card-body p-1 border-top">
            <a
              href="javascript:;"
              (click)="SetLogo(songLst.id)"
              class="btn btn-primary btn-sm"
              >Set</a
            >
            <a
              href="javascript:;"
              (click)="OpenFullImageModal(modalFullImage, songLst.TitleIdLink)"
              (click)="d('Cross click')"
              class="ml-5"
              >Full View</a
            >
            <a
              *ngIf="LogoId != songLst.id"
              href="javascript:;"
              (click)="DeleteLogoModal(LogoDeleteModal, songLst.id)"
              class="btn btn-danger btn-sm"
              style="padding: 9px; margin: 0px; float: right"
            >
              <i
                class="fa fa-trash-o float-right p-0 m-0"
                aria-hidden="true"
              ></i>
            </a>
            <i
              *ngIf="LogoId == songLst.id"
              class="fa fa-check-circle float-right pt-2"
              style="color: green; font-size: 1.2em; margin-top: -0.2em"
              aria-hidden="true"
            ></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #modalFullImage let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="SetSignage(modalSignage)"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body bg-white">
    <div class="row">
      <div class="col-lg-12">
        <img
          class="p-1"
          src="{{ FullImageUrl }}"
          alt="Card image"
          style="
            margin-left: auto;
            margin-right: auto;
            display: block;
            object-fit: contain;
          "
        />
      </div>
    </div>
  </div>
</ng-template>

<ng-template #LogoDeleteModal let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Delete Logo</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <p>Are you sure to delete?</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button
            class="btn btn-primary col-sm-2 pull-right"
            (click)="d('Cross click')"
          >
            <i class="fa fa-times fa-lg" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-danger col-sm-2 pull-right mr-2"
            (click)="DeleteLogo()"
            (click)="d('Cross click')"
          >
            <i class="fa fa-check fa-lg" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #modalUploadExcel let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Bulk Activation</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2" *ngIf="!uExcel">
      <div class="col-lg-12">
        <label for="btnExport" class="mb-2 mr-sm-2">Step 1.</label>
        <input
          type="button"
          id="btnExport"
          class="btn btn-primary"
          (click)="ExportExcel()"
          value="Export tokens to excel sheet"
          style="width: 100%"
        />
      </div>
    </div>
    <div class="row mb-2" *ngIf="!uExcel">
      <div class="col-lg-12">
        <label for="btnUp" class="mb-2 mr-sm-2">Step 2.</label>
        <input
          type="button"
          id="btnUp"
          class="btn btn-primary"
          (click)="UploadExcel()"
          value="Upload excel sheet"
          style="width: 100%"
        />
      </div>
    </div>

    <div *ngIf="uExcel">
      <div class="row">
        <div class="col-lg-12">
          <input
            type="file"
            name="profile"
            #myInput
            (change)="onSelectedFile($event)"
            id="chooseFile1"
            accept=".xlsx"
            class="btn btn-default border"
            style="width: 100%"
          />
        </div>
      </div>

      <div class="row mt-2">
        <div class="col-lg-12">
          <div *ngIf="fileUpload.status === 'progress'">
            <div class="progress" style="height: 20px; margin-bottom: 20px">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width.%]="fileUpload.message"
                aria-valuenow="25"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                {{ fileUpload.message }}%
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-lg-12">
          <button
            type="button"
            class="btn btn-danger btn-s float-right ml-2"
            (click)="Cancel()"
          >
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-primary btn-s float-right"
            (click)="Upload()"
            (click)="myInput.value = ''"
          >
            <span class="fa fa-cloud-upload"></span> Upload
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #modalForceUpdate let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Publish</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row">
      <div class="col-lg-12">
        <ul ngbNav #tPublish="ngbNav" [(activeId)]="PublishActive" class="nav-tabs">
          <li [ngbNavItem]="1" class="pr-2">
            <a ngbNavLink>Publish</a>
            <ng-template ngbNavContent>
              <div class="row">
                <div class="col-lg-6">
                  <input
                  id="txtSearchExt"
                  type="text"
                  [(ngModel)]="searchTextPublish"
                  class="text search-input"
                  placeholder="Search"
                  class="form-control mb-2 mr-sm-2 w-75"
                  (input)="onChangeEvent()"
                />
                </div>
                <div class="col-lg-6">
                  
                  <input
                    type="button"
                    class="btn btn-primary pull-right mb-2 ml-2"
                    value="Publish with Schedule"
                    (click)="ForceUpdateAll('Schedule')"
                  />
                  <input
                    type="button"
                    class="btn btn-primary pull-right mb-2"
                    value="Publish Now"
                    (click)="ForceUpdateAll('Now')"
                  />
                </div>
                <div class="col-sm-12 font-weight-bold mb-3" >
                  <p style="margin: 0 !important">You can use any keyword for search.</p>
                </div>
                    <div class="col-lg-12 m-0 p-0">
                  <div class="table-responsive">
                    <table
                      class="table data-table table-striped table-bordered mydatatable"
                    >
                      <thead class="bg-primary text-white">
                        <tr>
                          <th scope="col" style="width: 60px">
                            <div class="custom-control custom-checkbox">
                              <input
                                (change)="allActiveToken($event)"
                                type="checkbox"
                                class="custom-control-input"
                                name="AllActiveToken"
                                id="AllActiveToken"
                                [(ngModel)]="chkAll"
                              />
                              <label
                                class="custom-control-label cursor-pointer pt-1 text-white"
                                for="AllActiveToken"
                                >All</label
                              >
                            </div>
                          </th>
                          <th scope="col" sortable="city" (sort)="onSort($event,'Active')">City</th>
                          <th scope="col" sortable="location" (sort)="onSort($event,'Active')">Location</th>
                          <th scope="col" sortable="tokenCode" (sort)="onSort($event,'Active')">Token No</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let tLst of ActiveTokenList | filter:searchTextPublish | slice
                        : (page - 1) * pageSize
                        : (page - 1) * pageSize + pageSize; let i = index ">
                          <td data-label="" class="">
                            <div class="custom-control custom-checkbox">
                              <input
                                (change)="SelectActiveToken(tLst.tokenid, $event)"
                                type="checkbox"
                                class="custom-control-input"
                                id="{{ tLst.tokenid }}{{ i }}"
                                [checked]="tLst.check"
                                name="chkTokenList"
                              />
                              <label
                                class="custom-control-label cursor-pointer"
                                for="{{ tLst.tokenid }}{{ i }}"
                              ></label>
                            </div>
                          </td>
                          <td data-label="City">{{ tLst.city }}</td>
                          <td data-label="Location">{{ tLst.location }}</td>
                          <td data-label="Token No">{{ tLst.tokenCode }}</td>
                        </tr>
                      </tbody>
                    </table>
                    <ngb-pagination
                                    [collectionSize]="ActiveTokenListlength"
                                    [(page)]="page"
                                    [pageSize]="pageSize"
                                    [boundaryLinks]="true"
                  size="sm"
                                    (click)="GetCheckedToken()"
                                  ></ngb-pagination>
                  </div>
                </div>
              </div>
            </ng-template>
          </li>
          <li [ngbNavItem]="2" class="pr-2">
            <a ngbNavLink>Publish Schedule</a>
            <ng-template ngbNavContent>
              <div class="form-row">
                <div class="form-group col-sm-3 m-0">
                  <label for="cmbHour" class="mb-2 mr-sm-2" >Hour:</label>
                  <select class="custom-select mb-3" id="cmbHour" [(ngModel)]="cmbPublishHour">
                    <option value="1">01</option>
                    <option value="2">02</option>
                    <option value="3">03</option>
                    <option value="4">04</option>
                    <option value="5">05</option>
                    <option value="6">06</option>
                    <option value="7">07</option>
                    <option value="8">08</option>
                    <option value="9">09</option>
                    <option value="10">10</option>
                    <option value="11">11</option>
                    <option value="12">12</option>
                    <option value="13">13</option>
                    <option value="14">14</option>
                    <option value="15">15</option>
                    <option value="16">16</option>
                    <option value="17">17</option>
                    <option value="18">18</option>
                    <option value="19">19</option>
                    <option value="20">20</option>
                    <option value="21">21</option>
                    <option value="22">22</option>
                    <option value="23">23</option>
                  </select>
                </div>
                <div class="form-group col-sm-3 m-0 pt-1">
                  <button class="btn btn-primary mr-2 mt-4" type="button" (click)="SavePublishSchedule()">Save</button>
                </div>
              </div>
            </ng-template>
          </li>
        </ul>
        <div [ngbNavOutlet]="tPublish" class="mt-2"></div>
        </div>
        </div>
       
   
  </div>
</ng-template>

<ng-template #modalManageGroups let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Groups</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="tselect()"
      (click)="tokenInfoClose()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-managegroups></app-managegroups>
  </div>
</ng-template>

<ng-template #DeletePlaylistSongsModal let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Delete songs with percentage</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12 p-0 m-0">
          <label for="cName" class="mb-2 mr-sm-2">Playlist:</label>
          <select
            name="cName"
            class="custom-select form-control mb-2 mr-sm-2"
            (change)="onChangePlaylist($event.target.value)"
            id="cName"
            [(ngModel)]="cmbPlaylist"
          >
            <option selected value="0"></option>
            <option *ngFor="let fLst of TokenPlaylistList" [value]="fLst.Id">
              {{ fLst.DisplayName }}
            </option>
          </select>
        </div>
      </div>
      <div class="row mt-4" *ngIf="cmbPlaylist != '0'">
        <div class="col-sm-6 p-0 m-0 mb-2">
          <label class="cursor-pointer mr-2" style="vertical-align: sub">
            Delete songs with percentage</label
          >
        </div>
        <div class="col-sm-2 p-0 m-0 mb-2">
          <input
            type="number"
            min="0"
            class="form-control"
            [(ngModel)]="txtDelPer"
          />
        </div>
        <div class="col-sm-4 mb-2 pr-0">
          <button
            *ngIf="txtDelPer == '0'"
            class="btn btn-danger col-sm-12 mr-0"
            disabled
          >
            <i class="fa fa-trash" aria-hidden="true"></i> Delete
          </button>
          <button
            *ngIf="txtDelPer != '0'"
            class="btn btn-danger col-sm-12 mr-0"
            (click)="onDeletePercentageClick(DeletePercentageModal)"
            (click)="d('Cross click')"
          >
            <i class="fa fa-trash" aria-hidden="true"></i> Delete
          </button>
        </div>
        <div class="col-sm-10 p-0 m-0 mb-2 d-none">
          <label class="cursor-pointer mr-2" style="vertical-align: sub">
            Delete songs with number</label
          >
        </div>
        <div class="col-sm-2 p-0 m-0 mb-2 d-none">
          <input type="text" class="form-control" />
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #DeletePercentageModal let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Delete</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <p>Are you sure to delete?</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button
            class="btn btn-primary col-sm-2 pull-right"
            (click)="d('Cross click')"
          >
            <i class="fa fa-times fa-lg" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-danger col-sm-2 pull-right mr-2"
            (click)="DeleteTitlePercentage()"
            (click)="d('Cross click')"
          >
            <i class="fa fa-check fa-lg" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #modalManageOpeningHours let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Manage Reboot Time</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="tselect()"
      (click)="tokenInfoClose()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-openinghour></app-openinghour>
  </div>
</ng-template>

<ng-template #modalOfflineAlert let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Offline Alert</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="tselect()"
      (click)="tokenInfoClose()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-offline-alert></app-offline-alert>
  </div>
</ng-template>

<ng-template #modalUpdateInfo let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Manage Player Information</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="tselect()"
      (click)="tokenInfoClose()"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-2" *ngIf="!uExcel">
      <div class="col-lg-12">
        <label for="btnExport" class="mb-2 mr-sm-2">Step 1.</label>
        <input
          type="button"
          id="btnExport"
          class="btn btn-primary"
          (click)="ExportExcelInfo()"
          value="Export tokens to excel sheet"
          style="width: 100%"
        />
      </div>
    </div>
    <div class="row mb-2" *ngIf="!uExcel">
      <div class="col-lg-12">
        <label for="btnUp" class="mb-2 mr-sm-2">Step 2.</label>
        <input
          type="button"
          id="btnUp"
          class="btn btn-primary"
          (click)="UploadExcelInfo()"
          value="Upload excel sheet"
          style="width: 100%"
        />
      </div>
    </div>

    <div *ngIf="uExcel">
      <div class="row">
        <div class="col-lg-12">
          <input
            type="file"
            name="profile"
            #myInput
            (change)="onSelectedFileInfo($event)"
            id="chooseFile1"
            accept=".xlsx"
            class="btn btn-default border"
            style="width: 100%"
          />
        </div>
      </div>

      <div class="row mt-2">
        <div class="col-lg-12">
          <div *ngIf="fileUpload.status === 'progress'">
            <div class="progress" style="height: 20px; margin-bottom: 20px">
              <div
                class="progress-bar"
                role="progressbar"
                [style.width.%]="fileUpload.message"
                aria-valuenow="25"
                aria-valuemin="0"
                aria-valuemax="100"
              >
                {{ fileUpload.message }}%
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row mt-2">
        <div class="col-lg-12">
          <button
            type="button"
            class="btn btn-danger btn-s float-right ml-2"
            (click)="CancelInfo()"
          >
            Cancel
          </button>
          <button
            type="button"
            class="btn btn-primary btn-s float-right"
            (click)="UploadInfo()"
            (click)="myInput.value = ''"
          >
            <span class="fa fa-cloud-upload"></span> Upload
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #modalphilipsinfo let-c="close" let-d="dismiss">
  <div class="modal-header">
    
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <app-philipsinfo></app-philipsinfo>
  </div>
</ng-template>


<ng-template #modalMediaTypeDefault let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h5>Set Default Media Type</h5>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <table class="table data-table table-striped table-bordered mydatatable">
      <thead class="bg-primary">
        <tr>
          <th scope="col">Media Type</th>
          <th scope="col" style="width: 130px"></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor=" let mType of CustomerMediaTypeList">
          <td data-label="Media Type">{{ mType.DisplayName }}</td>
          <td data-label="" class="text-primary" (click)="SetMediaTypeDefault(mType.Id)">Set Default</td>
        </tr>
      </tbody>
    </table>
  </div>
</ng-template>

<ng-template #modalGroupRoominfo let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Group Rooms</h5>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body m-0 p-0">
    <div class="row m-0 p-0">
      <div class="col-lg-12 m-0 p-0">
        <div class="table-responsive">
          <table class="table data-table table-striped table-bordered mydatatable">
            <thead>
              <tr>
                <th class="bg-primary sticky-top" >Group Name</th>
                <th class="bg-primary sticky-top">Room Name</th>
              </tr>
            </thead>
            <tbody>
              <tr class="cursor-pointer" *ngFor="let eLst of DisplayGroupRoomsList; let i = index">
                <td>{{eLst.groupname}}</td>
                <td>{{eLst.roomname}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #modalEvent let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Events/Meeting Rooms</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ul ngbNav #tEvents="ngbNav" (activeId)="1" class="nav-tabs" (navChange)="onNavChange($event)">
      <li [ngbNavItem]="1" class="pr-2" *ngIf="!IschkViewOnly">
        <a ngbNavLink>Upload Events</a>
        <ng-template ngbNavContent>
          <div class="col-sm-12">
            <div class="form-row">
              <div class="form-group col-sm-3 m-0">
                <label for="SearchEvtDate" class="ml-3 mb-2 mr-sm-2">Event Date:</label>
                <input
                id="SearchEvtDate"
                class="form-control mb-2 mr-sm-2"
                [owlDateTimeTrigger]="dtUploadSheetEventDate"
                [(ngModel)]="dtpUploadSheetEventDate"
                [owlDateTime]="dtUploadSheetEventDate"
                readonly
              />
              <owl-date-time
                [pickerType]="'calendar'"
                #dtUploadSheetEventDate
              ></owl-date-time>
              </div>
              <div class="form-group col-sm-6 m-0">
                <label for="chooseFile2" class="mb-2 mr-sm-2">Event File:</label>
                <input
                type="file"
                name="profile"
                #myEventInput
                (change)="onSelectedFile($event)"
                id="chooseFile2"
                accept=".xlsx,.xls"
                class="btn btn-default border"
                style="width: 100%"
              />
              </div>
              <div class="form-group col-sm-3 m-0">
                <button 
                type="button"
                class="btn btn-primary btn-s mt-5"
                (click)="UploadEventSheet()"
                (click)="myEventInput.value = ''"
              >
                <span class="fa fa-cloud-upload"></span> Upload
              </button>
              </div>
            </div>
          </div>
            <div class="row mt-2">
              <div class="col-lg-12">
                <div *ngIf="fileUpload.status === 'progress'">
                  <div class="progress" style="height: 20px; margin-bottom: 20px">
                    <div
                      class="progress-bar"
                      role="progressbar"
                      [style.width.%]="fileUpload.message"
                      aria-valuenow="25"
                      aria-valuemin="0"
                      aria-valuemax="100"
                    >
                      {{ fileUpload.message }}%
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="table-responsive">
              <table class="table data-table table-striped table-bordered mydatatable">
                <thead>
                  <tr>
                    <th class="bg-primary sticky-top" style="max-width: 40%;width: 40%;">Event Date</th>
                    <th class="bg-primary sticky-top Link-Center_Width"></th>
                    <!--<th class="bg-primary sticky-top Link-Center_Width"></th>-->
                  </tr>
                </thead>
                <tbody>
                  <tr class="cursor-pointer" *ngFor="let eLst of EventList; let i = index">
                    <td>{{eLst.Id | date:'dd-MMM-yyyy'}}</td>
                    <td class="Link-Center_Width"><a href="javascript:;" (click)="OpenViewContent(viewcontent, eLst.Id,'N')"><i class="fa fa-eye" aria-hidden="true"></i></a> </td>
                    <!--<td class="Link-Center_Width"><a href="javascript:;" (click)="OpenViewContent(viewcontent, eLst.Id,'O')"><i class="fa fa-eye" aria-hidden="true"></i></a> </td>-->
                  </tr>
                </tbody>
              </table>
            </div>
        </ng-template>
      </li>
      <li [ngbNavItem]="2" class="pr-2" *ngIf="!IschkViewOnly">
        <a ngbNavLink>Add Events</a>
        <ng-template ngbNavContent>
          <div class="container-fluid">
          <form [formGroup]="frmEvent" class="p-0">
            <div class="form-row">
              <div class="form-group col-sm-3 pb-1 m-0"  >
                <label for="SearchFromDate" class="mb-2 mr-sm-2">Event Date:</label>
                <input
                  id="SearchFromDate"
                  class="form-control mb-2 mr-sm-2"
                  [owlDateTimeTrigger]="dtFromDate"
                  formControlName="edate"
                  [owlDateTime]="dtFromDate"
                  readonly
                /> 
                <owl-date-time
                  [pickerType]="'calendar'"
                  (afterPickerClosed)="CheckEventDateDays()"
                  #dtFromDate
                ></owl-date-time>

            </div>
              <div class="form-group col-sm-5 pb-1 m-0">
                <label for="token" class="mb-2 mr-sm-2" #flocation>Company Name:</label>
                <input
                  type="text" 
                  formControlName="dname"
                  class="form-control mb-2 mr-sm-2"
                  id="location"
                />
              </div>
              <div class="form-group col-sm-4 pb-1 m-0">
                <label for="cName" class="mb-2 mr-sm-2" #flocation
                    >Room:</label
                  >
                  <select formControlName="mid"
                  class="custom-select mb-3"
                  id="cName"
                >
                  <option selected value="0"></option>
                  <option *ngFor="let cLst of MeetingRoomList" [value]="cLst.id">
                    {{ cLst.roomname }}
                  </option>
                </select>
              </div>
              <div class="form-group col-sm-3 pb-1 m-0">
                <label for="acti" class="mb-2 mr-sm-2" #flocation>Venue:</label>
                <select formControlName="activity" class="custom-select mb-3" id="acti">
                  <option selected value=""></option>
                  <option *ngFor="let cLst of RoomActivityList" [value]="cLst.Id">
                    {{ cLst.DisplayName }}
                  </option>
                </select>
                
              </div>
            <div class="form-group col-sm-4 pb-1 m-0"  >
              <div class="col-lg-5 p-0 m-0 pull-left">
                <label class="mb-2 mr-sm-2" for="sTime"
                  >Start time:
                </label>
                <ngb-timepicker
                  formControlName="stime"
                ></ngb-timepicker>
              </div>
              <div class="col-lg-5 p-0 m-0 pull-right">
                <label class="mb-2 mr-sm-2" for="sTime"
                  >End time:
                </label>
                <ngb-timepicker
                  formControlName="etime"
                ></ngb-timepicker>
              </div>
            </div>
            <div class="form-group col-sm-3 m-0">
              <label for="bkLogo1" class="mb-2 mr-sm-2 w-100">Logo: <span style="cursor: pointer;"><i *ngIf="EventCustomerdata.selected_logoName !=''" (click)="ResetCompanylogo()" class="text-danger fa fa-times-circle" aria-hidden="true"></i></span> </label>
                    <input  id="bkLogo" type="button" (click)="openLibrary(modalCustomerLogo)" class="btn btn-primary  mb-2 mr-sm-2"   value="Logo Library" />
                    <span style="font-size: 11px;"><strong>{{EventCustomerdata.selected_logoName}}</strong></span>
            </div>
            <div class="form-group col-sm-2 pb-1 m-0 pt-1"  >
              <button class="btn btn-primary mt-4 ml-3" type="button" (click)="SaveRoomCustomerEvent()">
                Save
              </button>
              <button class="btn btn-primary mt-4 ml-3" type="button" (click)="ResetEventFrm()">
                Cancel
              </button>
            </div>
            </div>

          </form>
          <hr class="mt-0 mb-2">
          <div class="form-row">
            <div class="form-group col-sm-12 m-0">Search</div>
          </div>
          <hr class="mt-2 mb-0">
          <div class="form-row">
            <div class="form-group col-sm-3 pb-1 m-0"  >
              <label for="SearchEventDate" class="mb-2 mr-sm-2">Event Date:</label>
              <input
                id="SearchEventDate"
                class="form-control mb-2 mr-sm-2"
                [owlDateTimeTrigger]="dtEventSearchDate"
                [(ngModel)]="dtpEventSearchDate"
                [owlDateTime]="dtEventSearchDate"
                readonly
              />
              <owl-date-time
                [pickerType]="'calendar'"
                (afterPickerClosed)="SearchEvent()"
                #dtEventSearchDate
              ></owl-date-time>

          </div>
          </div>
          <div class="table-responsive">
            <table class="table data-table table-striped table-bordered mydatatable">
              <thead class="bg-primary">
                <tr>
                  <th scope="col" style="width: 25rem;">Name</th>
                  <th scope="col">Venue</th>
                  <th scope="col">Event</th>
                  <th scope="col">Start Time</th>
                  <th scope="col">End Time</th>
                  <th class="Link-Center_Width"></th>
                  <th class="Link-Center_Width"></th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let ev of SavedEventList">
                  <td>{{ev.cName}}</td>
                  <td>{{ev.roomname}}</td>
                  <td>{{ev.activity}}</td>
                  <td>{{ev.fromtime | date:'HH:mm'}}</td>
                  <td>{{ev.totime | date:'HH:mm'}}</td>
                  <td (click)="FetchEditInfo(ev)"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></td>
                  <td class="text-danger" (click)="openDeleteModal(EventDeleteModal, ev.id)"><i class="fa fa-trash" aria-hidden="true"></i></td>
                </tr>
              </tbody>
            </table>
          </div>
          </div>
        </ng-template>
      </li>
      <li [ngbNavItem]="3" class="pr-2" *ngIf="((!IschkViewOnly) )">
        <a ngbNavLink>Groups</a>
        <ng-template ngbNavContent>
          <div class="row">
            <div class="col-lg-12">
              <ul ngbNav #t_Groups="ngbNav" [(activeId)]="Group_Active" class="nav-tabs">
                <li [ngbNavItem]="1" class="pr-2">
                  <a ngbNavLink>Search</a>
                  <ng-template ngbNavContent>
                    <div class="form-row">
                      <div class="form-group col-sm-6 pb-0 m-0">
                        <div class="col-sm-6 p-0 pr-1 m-0 pull-left">
                          <label for="GroupId1">Groups:</label>
                          <select name="GroupId1" [(ngModel)]="cmbRoomGroup_search" class="custom-select" (change)="onChangeRoomGroup_search($event.target.value)" id="GroupId1">
                            <option selected value="0"></option>
                            <option *ngFor="let grpLst of Group_List" [value]="grpLst.Id">
                              {{ grpLst.DisplayName }}
                            </option>
                          </select>
                        </div>
                        
                      </div>
                    </div>
                    <div class="col-lg-12 m-0 p-0 mt-3">
                      <div class="table-responsive">
                        <table class="table data-table table-striped table-bordered mydatatable">
                          <thead class="bg-primary">
                            <tr>
                              <th>Room</th>
                              <th scope="col" style="width: 100px"></th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor=" let r of GroupVenueAssignedList; let i = index">
                              <td >{{ r.roomname }}</td>
                              <td  data-label="" class="text-center m-0 p-0" (click)="openUnAssignRoomGroupModal(r.id)">
                                  <button class="btn btn-sm btn-danger rounded-pill">
                                    Un-Assign
                                  </button>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="2" class="pr-2">
                  <a ngbNavLink >Add New  (Rooms not assigned)</a>
                  <ng-template ngbNavContent>
                    <div class="form-row">
                      <div class="form-group col-sm-6 pb-0 m-0">
                        <div class="col-sm-6 p-0 pr-1 m-0 pull-left">
                          <label for="GroupId">Groups:</label>
                          <select name="GroupId" [(ngModel)]="cmbRoomGroup" class="custom-select" (change)="onChangeRoomGroup($event.target.value)" id="GroupId">
                            <option selected value="0"></option>
                            <option *ngFor="let grpLst of Group_List" [value]="grpLst.Id">
                              {{ grpLst.DisplayName }}
                            </option>
                          </select>
                        </div>
                        <div class="col-sm-6 p-0 pull-left mt-5">
                          <button id="btnGroup" class="btn btn-primary mr-2" (click)="openCommonModal(modalCommon)" style="padding: 0.2rem 0.5rem">
                            <i class="fa fa-bars" aria-hidden="true"></i>
                          </button>
                          <button id="btnGroup2" class="btn btn-primary mr-2" (click)="UpdateRoomGroups()" style="padding: 0.2rem 0.5rem">
                            <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
                          </button>
                          <button id="btnGroup3" class="btn btn-danger" (click)="OpenDeleteGroupModal(DeleteGroupModal)" style="padding: 0.2rem 0.5rem">
                            <i class="fa fa-trash-o fa-lg" aria-hidden="true"></i>
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-12 m-0 p-0 mt-3">
                      <div class="table-responsive">
                        <table class="table data-table table-striped table-bordered mydatatable">
                          <thead class="bg-primary">
                            <tr>
                              <th scope="col" style="width: 60px"></th>
                              <th>Room</th>
                            </tr>
                          </thead>
                          <tbody>
                            <tr *ngFor=" let v of GroupVenueList; let i = index">
                              <td data-label="" class="">
                                <div class="custom-control custom-checkbox">
                                  <input
                                    (change)="SelectGroupVenue(v.id, $event)"
                                    type="checkbox"
                                    class="custom-control-input"
                                    id="{{ v.id }}{{ i }}"
                                    [checked]="v.check"
                                    name="chkgrpVenueList"
                                  />
                                  <label
                                    class="custom-control-label cursor-pointer"
                                    for="{{ v.id }}{{ i }}"
                                  ></label>
                                </div>
                              </td>
                              <td>{{ v.roomname }}</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </ng-template>
                </li>
              </ul>
              <div [ngbNavOutlet]="t_Groups" class="mt-2"></div>
            </div>
          </div>

          
        </ng-template>
      </li>
      <li [ngbNavItem]="4" class="pr-2" *ngIf="((!IschkViewOnly) )">
        <a ngbNavLink (click)="FillAllGroupVenue()">Set Playlist</a>
              <ng-template ngbNavContent>
                <div class="col-sm-12">
                  <div class="form-row">
                    <div class="form-group col-sm-2 m-0">
                      <label class="mb-2 mr-sm-2" for="schSType"
                      >Type:
                    </label>
                    <select name="Type" [(ngModel)]="rType_Playlist" [ngModelOptions]="{standalone: true}" class="custom-select"
                    (change)="onChangerType()" id="schSType">
                      <option selected value="Room">
                        Rooms
                      </option>
                      <option value="Group">
                        Groups
                      </option>
                    </select>
                    </div>
                    <div class="form-group col-sm-3 m-0" *ngIf="rType_Playlist =='Room'">
                      <label for="cmbMeeting"  class="mb-2 mr-sm-2">Rooms:</label>
                      <ng-multiselect-dropdown
                      id="cmbMeeting"
                      [placeholder]="' '"
                      [settings]="MeetingSettings"
                      [data]="MeetingRoomList"
                      [(ngModel)]="SelectedMeetingArray"
                      [ngModelOptions]="{ standalone: true }"
                    >
                    </ng-multiselect-dropdown>
      
      
      
                      <!--<select
                        class="custom-select mb-3"
                        (change)="onChangeMeetingRoom($event.target.value)"
                        id="cmbMeeting"
                        [(ngModel)]="cmbMeetingId"
                      >
                        <option selected value="0"></option>
                        <option *ngFor="let cLst of MeetingRoomList" [value]="cLst.id">
                          {{ cLst.roomname }}
                        </option>
                      </select>-->
                    </div>
                    <div class="form-group col-sm-3 m-0" *ngIf="rType_Playlist =='Group'">
                      <label for="cmbMeeting"  class="mb-2 mr-sm-2">Groups: </label> <!-- <i *ngIf="this.SelectedMeetingArray.length > 0" class="fa fa-eye text-primary cursor-pointer" (click)="DisplayGroupRooms(modalGroupRoominfo)" aria-hidden="true"></i> -->
                      <ng-multiselect-dropdown
                      id="cmbMeeting"
                      [placeholder]="' '"
                      [settings]="GroupSettings"
                      [data]="Group_List"
                      [(ngModel)]="SelectedMeetingArray"
                      [ngModelOptions]="{ standalone: true }"
                      (onSelect)="onItemSelectGroup($event)"
                    (onSelectAll)="onSelectAllGroup($event)"
                    (onDeSelect)="onItemDeSelectGroup($event)"
                    (onDeSelectAll)="onDeSelectAllGroup($event)"
                    >
                    </ng-multiselect-dropdown>
      
      
      
                      <!--<select
                        class="custom-select mb-3"
                        (change)="onChangeMeetingRoom($event.target.value)"
                        id="cmbMeeting"
                        [(ngModel)]="cmbMeetingId"
                      >
                        <option selected value="0"></option>
                        <option *ngFor="let cLst of MeetingRoomList" [value]="cLst.id">
                          {{ cLst.roomname }}
                        </option>
                      </select>-->
                    </div>
                    <div class="form-group col-sm-3 m-0">
                      <label for="cmbFormat"  class="mb-2 mr-sm-2"
                        >Campaign Name:</label
                      >
                      <select
                        class="custom-select mb-3"
                        (change)="onChangeFormat($event.target.value)"
                        id="cmbFormat"
                        [(ngModel)]="cmbFormatId"
                      >
                        <option selected value="0"></option>
                        <option *ngFor="let fLst of FormatList" [value]="fLst.Id">
                          {{ fLst.DisplayName }}
                        </option>
                      </select>
                    </div>
                    <div class="form-group col-sm-3 m-0">
                      <label for="cmbPlaylist"  class="mb-2 mr-sm-2"
                        >Playlist Name:</label
                      >
                      <select
                        class="custom-select mb-3"
                        id="cmbPlaylist"
                        [(ngModel)]="cmbPlaylistId"
                      >
                        <option selected value="0"></option>
                        <option *ngFor="let fLst of PlaylistList" [value]="fLst.Id">
                          {{ fLst.DisplayName }}
                        </option>
                      </select>
                    </div>
                    <div class="form-group col-sm-3 m-0 d-none">
                      <label for="cmbRoomStatus"  class="mb-2 mr-sm-2"  
                        >Room Status:</label
                      >
                      <select
                        class="custom-select mb-3"
                        id="cmbRoomStatus"
                        [(ngModel)]="MeetingRoomDetail['roomstatus']"
                      >
                        <option selected value="available">Available</option>
                        <option selected value="not available">Not Available</option>
                      </select>
                    </div>
                    <div class="form-group col-sm-1 m-0">
                      <button 
                      type="button"
                      class="btn btn-primary btn-s mt-5"
                      (click)="UpdateMeetingInfo(viewcontent)"
                    >
                      Save
                    </button>
                    </div>
                  </div>
                  
                </div>
                <div class="col-sm-12">
                  <div class="table-responsive">
                    <table class="table data-table table-striped table-bordered mydatatable">
                      <thead>
                        <tr>
                          <th class="bg-primary sticky-top" >Room</th>
                          <th class="bg-primary sticky-top">Campaign Name</th>
                          <th class="bg-primary sticky-top">Playlist Name</th>
                          <th class="bg-primary sticky-top Link-Center_Width" ></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr class="cursor-pointer" *ngFor="let eLst of RoomSignagePlaylist; let i = index">
                          <td>{{eLst.roomname}}</td>
                          <td>{{eLst.FormatName}}</td>
                          <td>{{eLst.splPlaylistName}}</td>
                          <td data-label="" class="text-danger m-0 p-0" (click)="openDeleteModal(DefaultDeleteModal, eLst.id)" >
                            <i class="fa fa-trash" aria-hidden="true"></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </ng-template>
      </li>
      <li [ngbNavItem]="5" class="pr-2 " *ngIf="!IschkViewOnly">
        <a ngbNavLink (click)="ResetList()">Schedule</a>
        <ng-template ngbNavContent>
          <div class="row">
            <div class="col-lg-12">
              <ul ngbNav #t_Schedule="ngbNav" [(activeId)]="Schedule_Active" class="nav-tabs">
                <li [ngbNavItem]="1" class="pr-2">
                  <a ngbNavLink>Search</a>
                  <ng-template ngbNavContent>
                    <div class="form-row">
                      <div class="form-group col-sm-6 pb-0 m-0">
                        <div class="col-sm-6 p-0 pr-1 m-0 pull-left">
                          <label for="GroupId">Room:</label>
                          <select  [(ngModel)]="cmbRoomSchedule" class="custom-select" (change)="onChangeRoomSchedule($event.target.value)" id="cName">
                            <option selected value="0"></option>
                            <option *ngFor="let cLst of MeetingRoomList" [value]="cLst.id">
                              {{ cLst.roomname }}
                            </option>
                          </select>
                        </div>
                         
                      </div>
                    </div>
                    <div class="col-lg-12 m-0 p-0 mt-3">
                      <div class="table-responsive">
                        <table
                    class="table data-table table-striped table-bordered mydatatable"
                  >
                    <thead class="bg-primary">
                      <tr>
                        <th scope="col">Campaign Name</th>
                        <th scope="col">Playlist Name</th>
                        <th  scope="col" *ngIf="FutureSchFind=='Yes'">
                          Start Date
                        </th>
                        <th scope="col" *ngIf="FutureSchFind=='Yes'">
                          End Date
                        </th>
                        <th  scope="col">
                          Start Time
                        </th>
                        <th scope="col">
                          End Time
                        </th>
                        <!--<th style="width: 13rem;">
                          Week Day
                        </th>
                        <th scope="col" class="Link-Center_Width"></th>-->
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let fuSchLst of futureSchList">
                        <td data-label="Campaign Name">
                          {{ fuSchLst.formatName }}
                        </td>
                        <td data-label="Playlist Name">
                          {{ fuSchLst.playlistName }}
                        </td>
                        <td data-label="Start Date" *ngIf="FutureSchFind=='Yes'">
                          {{ fuSchLst.sDate }}
                        </td>
                        <td data-label="End Date" *ngIf="FutureSchFind=='Yes'">
                          {{ fuSchLst.eDate }}
                        </td>
                        <td
                          data-label="Start Time"
                        >
                          {{ fuSchLst.StartTime }}
                        </td>
                        <td
                          data-label="End Time"
                        >
                          {{ fuSchLst.EndTime }}
                        </td>
                        <!--<td
                          data-label="Week Day"
                        >
                          {{ fuSchLst.WeekDay }}
                        </td>
                        <td
                data-label=""
                class="text-danger m-0 p-0"
                (click)="openDeleteModal(SchDeleteModal, fuSchLst.id)"
              >
                <i class="fa fa-trash" aria-hidden="true"></i>
              </td>-->
                      </tr>
                    </tbody>
                  </table>
                      </div>
                    </div>
                  </ng-template>
                </li>
                <li [ngbNavItem]="2" class="pr-2 d-none">
                  <a ngbNavLink>Add New</a>
                  <ng-template ngbNavContent>
                    <app-event-schedule></app-event-schedule>
                  </ng-template>
                  </li>

              </ul>
              <div [ngbNavOutlet]="t_Schedule" class="mt-2"></div>
            </div>
          </div>


          
        </ng-template>
      </li>
      <li [ngbNavItem]="6" class="pr-2 d-none" *ngIf="!IschkViewOnly">
        <a ngbNavLink>Upload Logo</a>
        <ng-template ngbNavContent>
        <div class="col-sm-12">
          <div class="form-row">
            <div class="form-group col-sm-2 m-0">
              <label for="SearchEvtDate" class="ml-3 mb-2 mr-sm-2">Date:</label>
              <input
              id="SearchEvtDate"
              class="form-control mb-2 mr-sm-2"
              [owlDateTimeTrigger]="dtLogoEventDate"
              [(ngModel)]="dtpLogoEventDate"
              [owlDateTime]="dtLogoEventDate"
              readonly
            />
            <owl-date-time
              [pickerType]="'calendar'"
              (afterPickerClosed)="GetEvent()"
              #dtLogoEventDate
            ></owl-date-time>
            </div>
            <div class="form-group col-sm-4 m-0">
              <label for="cmbEventCust"  class="mb-2 mr-sm-2"  
                >Customer:</label
              >
              <select
                class="custom-select mb-3"
                (change)="onChangeEventCustomer($event.target.value)"
                id="cmbEventCust"
                [(ngModel)]="cmbEventCustomer"
              >
                <option selected value="0"></option>
                <option *ngFor="let cLst of EventCustomerList" [value]="cLst.companyname">
                  {{ cLst.companyname }}
                </option>
              </select>
            </div>
            <div class="form-group col-sm-5 m-0">
              <label for="bkLogo1" class="mb-2 mr-sm-2 w-100">Logo: <span style="cursor: pointer;"><i *ngIf="EventCustomerdata.selected_logoName !=''" (click)="ResetCompanylogo()" class="text-danger fa fa-times-circle" aria-hidden="true"></i></span> </label>
                    <input  id="bkLogo" type="button" (click)="openLibrary(modalCustomerLogo)" class="btn btn-primary  mb-2 mr-sm-2"   value="Logo Library" />
                    <span style="font-size: 11px;"><strong>{{EventCustomerdata.selected_logoName}}</strong></span>
            </div>
            <div class="form-group col-sm-1 m-0 text-right">
              <button 
              type="button"
              class="btn btn-primary btn-s mt-5"
              (click)="SaveRoomCustomerEventWithButtonClick()"
            >
              Save
            </button>
            </div>
          </div>
        </div>
        <div class="col-sm-12">
        <div class="table-responsive">
          <table class="table data-table table-striped table-bordered mydatatable">
            <thead>
              <tr>
                <th class="bg-primary sticky-top" >Time</th>
                <th class="bg-primary sticky-top">Location</th>
                <th class="bg-primary sticky-top">Activity</th>
                <!--<th class="bg-primary sticky-top"style="max-width: 7%;width: 7%;"></th>-->
              </tr>
            </thead>
            <tbody>
              <tr class="cursor-pointer" *ngFor="let eLst of UploadLogoCustomerEventList; let i = index">
                <td>{{eLst.fromtime | date:'HH:mm'}} - {{eLst.totime | date:'HH:mm'}}</td>
                   
                <td>{{eLst.roomname}}</td>
                <td>{{eLst.activity}}</td>
                <!--<td style="max-width: 7%;width: 7%;"><a href="javascript:;" (click)="OpenViewEventContent(viewcontent, eLst)"><i class="fa fa-eye" aria-hidden="true"></i></a> </td>-->

              </tr>
            </tbody>
          </table>
        </div>
      </div>
      </ng-template>
      </li>
      <li [ngbNavItem]="7" class="pr-2" *ngIf="!IschkViewOnly">
        <a ngbNavLink>Promo Logo</a>
        <ng-template ngbNavContent>
          <div class="col-12 p-0">
            <div class="form-row">
            <div class="form-group col-sm-6 m-0">
              <label for="chooseFile2" class="mb-2 mr-sm-2">Upload Promo Logo:</label>
              <input
              type="file"
              name="profile"
              #myEventLogoInput
              (change)="onSelectedFile($event)"
              id="chooseFile2"
              accept="image/jpeg, image/x-png"
              class="btn btn-default border"
              style="width: 100%"
            />
            </div>
            <div class="form-group col-sm-3 m-0">
              <button 
              type="button"
              class="btn btn-primary btn-s mt-5"
              (click)="UploadPromoLogo()"
              (click)="myEventLogoInput.value = ''"
            >
              <span class="fa fa-cloud-upload"></span> Upload
            </button>
            </div>
          </div>
          </div>
          <div class="row mt-2">
            <div class="col-lg-12">
              <div *ngIf="fileUpload.status === 'progress'">
                <div class="progress" style="height: 20px; margin-bottom: 20px">
                  <div
                    class="progress-bar"
                    role="progressbar"
                    [style.width.%]="fileUpload.message"
                    aria-valuenow="25"
                    aria-valuemin="0"
                    aria-valuemax="100"
                  >
                    {{ fileUpload.message }}%
                  </div>
                </div>
              </div>
            </div>
          </div>
           <div class="row mt-3">
            <div class="col-sm-2 mb-2" *ngFor="let songLst of PromoLogoList">
              <div class="card">
                <img
                  class="card-img-top p-1"
                  src="{{ songLst.TitleIdLink }}"
                  alt="Card image"
                  style="height: 100px; object-fit: contain"
                />
                <div class="card-body p-1 border-top">
                  <a *ngIf="songLst.IsFindPromo=='0'" href="javascript:;" (click)="OpenPromoLogoDate(modalPromoLogoDate,songLst.id, songLst.IsFindPromo)"
                    class="btn btn-primary btn-sm">Set</a>
                    <a *ngIf="songLst.IsFindPromo=='1'" href="javascript:;" (click)="SetUnsetPromoLogo(songLst.id, songLst.IsFindPromo)"
                    class="btn btn-primary btn-sm">UnSet</a>
                    <a href="javascript:;" (click)="DeleteLogoModal(LogoDeleteModal, songLst.id)" class="btn btn-danger btn-sm"
              style="padding: 7px; margin: 0px; float: right">
              <i class="fa fa-trash-o float-right p-0 m-0" aria-hidden="true"></i>
            </a>

            <a *ngIf="songLst.IsFindPromo=='1'" href="javascript:;" class="btn btn-success btn-sm"
            style="padding: 7px; margin: 0px; float: right;margin-right: 3px;">
          <i class="fa fa-check-circle float-right p-0 m-0" aria-hidden="true"></i>
          </a>
            
                </div>
              </div>
            </div>
          </div>
        </ng-template>
      </li>
      
      <li [ngbNavItem]="8" class="pr-2" *ngIf="!IschkViewOnly">
        <a ngbNavLink>Pax occupancy</a>
        <ng-template ngbNavContent>
        <div class="col-sm-12">
          <div class="form-row mb-2 ">
            <div class="form-group col-sm-4 m-0">
              <label for="cmbMeeting"  class="mb-2 mr-sm-2">Rooms:</label>
          <select
                  class="custom-select mb-3"
                  (change)="onChangeMeetingRoom($event.target.value)"
                  id="cmbMeeting"
                  [(ngModel)]="cmbMeetingId"
                >
                  <option selected value="0"></option>
                  <option *ngFor="let cLst of MeetingRoomList" [value]="cLst.id">
                    {{ cLst.roomname }}
                  </option>
                </select>
                </div>
                <div class="form-group col-sm-2 m-0">
                  <button 
                  type="button"
                  class="btn btn-primary btn-s mt-5"
                  (click)="UpdateRoomsPaxOccupancy()"
                >
                  Save
                </button>
                </div>
                </div>
<div class="form-row mb-2 ">
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-6-default.png" alt="" class="imgCenter">
              </div>
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-0-default.png" alt="" class="imgCenter">
              </div>
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-1-default.png" alt="" class="imgCenter">
              </div>
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-2-default.png" alt="" class="imgCenter">
              </div>
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-3-default.png" alt="" class="imgCenter">
              </div>
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-4-default.png" alt="" class="imgCenter">
              </div>
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-5-default.png" alt="" class="imgCenter">
              </div>
              <div class="form-group col-hlf-2 m-0">
                <img src="assets/images/cp2/cp2-7-default.png" alt="" class="imgCenter">
              </div>
            </div>
            <div class="form-row ">
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r1']" class="form-control mb-2 mr-sm-2"/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r2']" class="form-control mb-2 mr-sm-2"/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r3']" class="form-control mb-2 mr-sm-2"/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r4']" class="form-control mb-2 mr-sm-2"/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r5']" class="form-control mb-2 mr-sm-2"/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r6']" class="form-control mb-2 mr-sm-2"/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r7']" class="form-control mb-2 mr-sm-2"/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="MeetingRoomDetail['r8']" class="form-control mb-2 mr-sm-2"/>
              </div>
            </div> 
             
            <div class="form-row ">
              <div class="form-group col-12 m-0">
                Default Room Pax Occupancy
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r1']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r2']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r3']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r4']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r5']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r6']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r7']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
              <div class="form-group col-hlf-2 m-0">
                <input type="number" [(ngModel)]="DefaultRoomsDetail['r8']" class="form-control mb-2 mr-sm-2" disabled=""/>
              </div>
            </div>                 

        </div>
      </ng-template>
      </li> 
      <li [ngbNavItem]="9" class="pr-2" *ngIf="!IschkViewOnly">
        <a ngbNavLink (click)="ForceUpdateModal(modalForceUpdate)" (click)="d('Cross click')">Publish</a>
      </li>
    </ul>
    <div [ngbNavOutlet]="tEvents" class="mt-2"></div>
     
  </div>
</ng-template>
<ng-template class="tokenmodal" #viewcontent let-c="close" let-d="dismiss">
  
  <button
    type="button"
    class="close text-right"
    aria-label="Close"
    (click)="d('Cross click')"
  >
    <span aria-hidden="true">&times;</span>
  </button>
 
<div class="modal-body p-0">
  <app-view-content></app-view-content>
</div>
</ng-template>

<ng-template #modalCustomerLogo let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Library</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="col-12 p-0">
      <div class="form-row">
      <div class="form-group col-sm-6 m-0">
        <label for="chooseFile2" class="mb-2 mr-sm-2">Logo:</label>
        <input
        type="file"
        name="profile"
        #myEventLogoInput
        (change)="onSelectedFile($event)"
        id="chooseFile2"
        accept="image/jpeg, image/x-png"
        class="btn btn-default border"
        style="width: 100%"
      />
      </div>
      <div class="form-group col-sm-3 m-0">
        <button 
        type="button"
        class="btn btn-primary btn-s mt-5"
        (click)="UploadCustomerLogo()"
        (click)="myEventLogoInput.value = ''"
      >
        <span class="fa fa-cloud-upload"></span> Upload
      </button>
      </div>
    </div>
    </div>
    <div class="row mt-2">
      <div class="col-lg-12">
        <div *ngIf="fileUpload.status === 'progress'">
          <div class="progress" style="height: 20px; margin-bottom: 20px">
            <div
              class="progress-bar"
              role="progressbar"
              [style.width.%]="fileUpload.message"
              aria-valuenow="25"
              aria-valuemin="0"
              aria-valuemax="100"
            >
              {{ fileUpload.message }}%
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-2">
      <div class="col-sm-4 col-6 mb-2" *ngFor="let songLst of SongsList">
        <div class="card">
          <img
            class="card-img-top p-1"
            src="{{ songLst.TitleIdLink }}"
            alt="Card image"
            style="height: 100px; object-fit: contain"
          />
          <div class="card-body p-1 border-top">
            <a
              href="javascript:;"
              (click)="SetImage(songLst.TitleIdLink, songLst.title,1,songLst.id)" (click)="d('Cross click')"
              class="btn btn-primary btn-sm"
              >Set</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template #modalPromoLogoDate let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">&nbsp;</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
   <div class="form-row">
    <div class="form-group col-sm-6 pb-1 m-0">
      <label for="dtPromosDate" class="mb-2 mr-sm-2">Start Date:</label>
      <input
        id="dtPromosDate"
        [(ngModel)]="dtPromoStartDate"
        class="form-control mb-2 mr-sm-2"
        [owlDateTimeTrigger]="dtPromosDate"
        [owlDateTime]="dtPromosDate"
        readonly
      />
      <owl-date-time [pickerType]="'calendar'" #dtPromosDate></owl-date-time>
    </div>
    <div class="form-group col-sm-6 pb-1 m-0">
      <label for="dtPromoEDate" class="mb-2 mr-sm-2">End Date:</label>
      <input
        id="dtPromoEDate"
        [(ngModel)]="dtPromoEndDate"
        class="form-control mb-2 mr-sm-2"
        [owlDateTimeTrigger]="dtPromoEDate"
        [owlDateTime]="dtPromoEDate"
        readonly
      />
      <owl-date-time [pickerType]="'calendar'" #dtPromoEDate></owl-date-time>
    </div>
   </div>
   <div class="row">
    <div class="col-lg-12">
      <button class="btn btn-primary mr-2 pull-right" type="button" (click)="onSubmitPromoDate()" (click)="d('Cross click')">
      Save
    </button>
    </div>
   </div>
  </div>
</ng-template>

<ng-template #modalExpiryDate let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Set Expiry Date</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    
       
              <div class="row">
                <div class="col-lg-6">
                  <input
                  id="txtSearchExt"
                  type="text"
                  [(ngModel)]="searchTextPublish"
                  class="text search-input"
                  placeholder="Search"
                  class="form-control mb-2 mr-sm-2 w-75 mt-4"
                  (input)="onChangeEvent()"
                />
                </div>
                <div class="form-group col-lg-4">
                  <label for="dtTokenEDate" class="mb-2 mr-sm-2">Expiry Date:</label>
      <input
        id="dtTokenEDate"
        [(ngModel)]="dtTokenExpiryDate"
        class="form-control mb-2 mr-sm-2"
        [owlDateTimeTrigger]="dtTokenEDate"
        [owlDateTime]="dtTokenEDate"
        readonly
      />
      <owl-date-time [pickerType]="'calendar'" #dtTokenEDate></owl-date-time>
                </div>
                <div class="col-lg-2">
                  
                  <input
                    type="button"
                    class="btn btn-primary pull-right mb-2 mt-4"
                    value="Save"
                    (click)="UpdatePlayerExpire()"
                  />
                </div>
                <div class="col-sm-12 font-weight-bold mb-3 p-0" >
                  <p style="margin: 0 !important">You can use any keyword from media type, city , location,token no. For Example: Audio, Video, Signage etc.</p>
                </div>
                    <div class="col-lg-12 m-0 p-0">
                  <div class="table-responsive">
                    <table
                      class="table data-table table-striped table-bordered mydatatable"
                    >
                      <thead class="bg-primary text-white">
                        <tr>
                          <th scope="col" style="width: 60px">
                            <div class="custom-control custom-checkbox">
                              <input
                                (change)="allActiveToken($event)"
                                type="checkbox"
                                class="custom-control-input"
                                name="AllActiveToken"
                                id="AllActiveToken"
                                [(ngModel)]="chkAll"
                              />
                              <label
                                class="custom-control-label cursor-pointer pt-1 text-white"
                                for="AllActiveToken"
                                >All</label
                              >
                            </div>
                          </th>
                          <th scope="col" sortable="city" (sort)="onSort($event,'Active')">City</th>
                          <th scope="col" sortable="location" (sort)="onSort($event,'Active')">Location</th>
                          <th scope="col" sortable="tokenCode" (sort)="onSort($event,'Active')">Token No</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let tLst of ActiveTokenList | filter:searchTextPublish | slice
                        : (page - 1) * pageSize
                        : (page - 1) * pageSize + pageSize; let i = index ">
                          <td data-label="" class="">
                            <div class="custom-control custom-checkbox">
                              <input
                                (change)="SelectActiveToken(tLst.tokenid, $event)"
                                type="checkbox"
                                class="custom-control-input"
                                id="{{ tLst.tokenid }}{{ i }}"
                                [checked]="tLst.check"
                                name="chkTokenList"
                              />
                              <label
                                class="custom-control-label cursor-pointer"
                                for="{{ tLst.tokenid }}{{ i }}"
                              ></label>
                            </div>
                          </td>
                          <td data-label="City">{{ tLst.city }}</td>
                          <td data-label="Location">{{ tLst.location }}</td>
                          <td data-label="Token No">{{ tLst.tokenCode }}</td>
                        </tr>
                      </tbody>
                    </table>
                    <ngb-pagination
                                    [collectionSize]="ActiveTokenListlength"
                                    [(page)]="page"
                                    [pageSize]="pageSize"
                                    [boundaryLinks]="true"
                  size="sm"
                                    (click)="GetCheckedToken()"
                                  ></ngb-pagination>
                  </div>
                </div>
              </div>
        
        
         
       
    
  </div>
</ng-template>

<ng-template #modalUploadBulkCommon let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Bulk</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="row mb-4">
      <div class="col-lg-12">
        <input
          type="button"
          id="btnExport"
          class="btn btn-primary"
          (click)="BulkActivation(modalUploadExcel)" (click)="d('Cross click')"
          value="Bulk Activation"
          style="width: 100%"
        />
      </div>
    </div>
    <div class="row mb-2">
      <div class="col-lg-12">
        <input
          type="button"
          id="btnUp"
          class="btn btn-primary"
          (click)="OpenUpdateInfo(modalUpdateInfo)" (click)="d('Cross click')"
          value="Player Information" 
          style="width: 100%"
        />
      </div>
    </div>
 
  </div>
</ng-template>



<ng-template #EventDeleteModal let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Delete Event</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <p>Are you sure to delete?</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button
            class="btn btn-primary col-sm-2 pull-right"
            (click)="d('Cross click')"
          >
            <i class="fa fa-times fa-lg" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-danger col-sm-2 pull-right mr-2"
            (click)="DeleteEvent()"
            (click)="d('Cross click')"
          >
            <i class="fa fa-check fa-lg" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>




<ng-template #modalCommon let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Groups</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <label for="State" class="mb-2 mr-sm-2">Name:</label>
          <input
            type="text"
            [(ngModel)]="ModifyGroupName"
            class="form-control mb-2 mr-sm-2"
            id="fName"
          />
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button
            class="btn btn-primary col-sm-2 pull-right"
            type="button"
            (click)="onSubmitRoomGroup()"
            (click)="d('Cross click')"
          >
            <i class="fa fa-floppy-o fa-lg" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #DeleteGroupModal let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Delete Group</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <p>Are you sure to delete?</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button
            class="btn btn-primary col-sm-2 pull-right"
            (click)="d('Cross click')"
          >
            <i class="fa fa-times fa-lg" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-danger col-sm-2 pull-right mr-2"
            (click)="DeleteGroup()"
            (click)="d('Cross click')"
          >
            <i class="fa fa-check fa-lg" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #SchDeleteModal let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Delete Schedule Playlist</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <p>Are you sure to delete?</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button
            class="btn btn-primary col-sm-2 pull-right"
            (click)="d('Cross click')"
          >
            <i class="fa fa-times fa-lg" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-danger col-sm-2 pull-right mr-2"
            (click)="DeleteSchPlaylist()"
            (click)="d('Cross click')"
          >
            <i class="fa fa-check fa-lg" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #DefaultDeleteModal let-c="close" let-d="dismiss">
  <div class="modal-header bg-primary">
    <h5 class="text-white">Delete Default Playlist</h5>
    <button
      type="button"
      class="close text-white"
      aria-label="Close"
      (click)="d('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-12">
          <p>Are you sure to delete?</p>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <button
            class="btn btn-primary col-sm-2 pull-right"
            (click)="d('Cross click')"
          >
            <i class="fa fa-times fa-lg" aria-hidden="true"></i>
          </button>
          <button
            class="btn btn-danger col-sm-2 pull-right mr-2"
            (click)="DeleteDefaultPlaylist()"
            (click)="d('Cross click')"
          >
            <i class="fa fa-check fa-lg" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>